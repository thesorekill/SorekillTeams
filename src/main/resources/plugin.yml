# ============================================================================
# SorekillTeams - plugin.yml
# ============================================================================
# Paper/Spigot plugin descriptor.
# - Registers commands (and their default permission gates)
# - Declares optional dependencies (softdepend)
# - Documents permission nodes + inheritance
# ============================================================================

name: SorekillTeams
version: ${project.version}
main: net.chumbucket.sorekillteams.SorekillTeamsPlugin
api-version: "1.21"

author: Sorekill
website: "https://github.com/thesorekill/SorekillTeams"

# Optional integrations (plugin will still run without these)
softdepend:
  - PlaceholderAPI
  - MiniPlaceholders

# ============================================================================
# Commands
# ============================================================================
commands:
  team:
    description: Teams command
    usage: "/team"
    aliases: [teams, t]
    permission: sorekillteams.use

  tc:
    description: Send a team chat message (or toggle team chat mode)
    usage: "/tc [message...]"
    aliases: [teamchat]
    permission: sorekillteams.teamchat

  sorekillteams:
    description: SorekillTeams admin command
    usage: "/sorekillteams reload|version|disband|setowner|kick|info"
    aliases: [st]
    permission: sorekillteams.admin

# ============================================================================
# Permissions
# ============================================================================
permissions:

  # --------------------------------------------------------------------------
  # Wildcard (everything)
  # --------------------------------------------------------------------------
  sorekillteams.*:
    description: Grants access to all SorekillTeams permissions
    default: op
    children:
      # Core usage
      sorekillteams.use: true

      # Player team actions
      sorekillteams.reload: true
      sorekillteams.create: true
      sorekillteams.invite: true
      sorekillteams.invites: true
      sorekillteams.accept: true
      sorekillteams.deny: true
      sorekillteams.leave: true
      sorekillteams.disband: true
      sorekillteams.info: true
      sorekillteams.kick: true
      sorekillteams.transfer: true
      sorekillteams.rename: true
      sorekillteams.ff: true

      # Chat + spy
      sorekillteams.teamchat: true
      sorekillteams.chat: true
      sorekillteams.spy: true

      # Combat bypass
      sorekillteams.friendlyfire.bypass: true

      # Max-members pattern
      sorekillteams.max.*: true

      # Admin umbrella + granular admin nodes
      sorekillteams.admin: true
      sorekillteams.admin.reload: true
      sorekillteams.admin.version: true
      sorekillteams.admin.disband: true
      sorekillteams.admin.setowner: true
      sorekillteams.admin.kick: true
      sorekillteams.admin.info: true

      # Homes
      sorekillteams.homes: true
      sorekillteams.home: true
      sorekillteams.sethome: true
      sorekillteams.delhome: true
      sorekillteams.home.bypasscooldown: true

  # --------------------------------------------------------------------------
  # Base
  # --------------------------------------------------------------------------
  sorekillteams.use:
    description: Allows using /team
    default: false

  sorekillteams.admin:
    description: Allows using /sorekillteams (admin controls)
    default: op

  # --------------------------------------------------------------------------
  # /team reload (player-facing convenience)
  # TeamCommand checks sorekillteams.reload OR sorekillteams.admin
  # --------------------------------------------------------------------------
  sorekillteams.reload:
    description: Allows /team reload
    default: op

  # --------------------------------------------------------------------------
  # Team management (player)
  # --------------------------------------------------------------------------
  sorekillteams.create:
    description: Create a team
    default: false

  sorekillteams.invite:
    description: Invite players to your team (owner)
    default: false

  sorekillteams.invites:
    description: View your pending team invites
    default: false

  sorekillteams.accept:
    description: Accept team invites
    default: false

  sorekillteams.deny:
    description: Deny team invites
    default: false

  sorekillteams.leave:
    description: Leave your team
    default: false

  sorekillteams.disband:
    description: Disband your team (owner)
    default: false

  sorekillteams.info:
    description: View team info
    default: false

  sorekillteams.kick:
    description: Kick a member (owner)
    default: false

  sorekillteams.transfer:
    description: Transfer team ownership (owner)
    default: false

  sorekillteams.rename:
    description: Rename your team (owner)
    default: false

  sorekillteams.ff:
    description: Toggle friendly fire for your team (owner)
    default: false

  # --------------------------------------------------------------------------
  # Team chat
  # --------------------------------------------------------------------------
  sorekillteams.teamchat:
    description: Use team chat features (toggle/team chat commands)
    default: false

  # Legacy node (backwards compatible with older setups using sorekillteams.chat)
  sorekillteams.chat:
    description: Legacy permission node (use sorekillteams.teamchat instead)
    default: false
    children:
      sorekillteams.teamchat: true

  # --------------------------------------------------------------------------
  # Team spy
  # --------------------------------------------------------------------------
  sorekillteams.spy:
    description: Spy on team chat messages
    default: op

  # --------------------------------------------------------------------------
  # Friendly fire bypass
  # --------------------------------------------------------------------------
  sorekillteams.friendlyfire.bypass:
    description: Bypass friendly fire protection (damage teammates even if blocked)
    default: op

  # --------------------------------------------------------------------------
  # Max members permission pattern
  # Example: sorekillteams.max.6 gives max members 6
  # (This wildcard is just documentation; your code scans sorekillteams.max.<n>)
  # --------------------------------------------------------------------------
  sorekillteams.max.*:
    description: Permission node pattern for team max sizes
    default: false

  # --------------------------------------------------------------------------
  # Admin action nodes (granular)
  # --------------------------------------------------------------------------
  sorekillteams.admin.reload:
    description: Reload config/messages/storage
    default: op

  sorekillteams.admin.version:
    description: View plugin version information
    default: op

  sorekillteams.admin.disband:
    description: Force disband a team
    default: op

  sorekillteams.admin.setowner:
    description: Force set owner of a team
    default: op

  sorekillteams.admin.kick:
    description: Force kick a player from a team
    default: op

  sorekillteams.admin.info:
    description: View team info for any team
    default: op

  # --------------------------------------------------------------------------
  # Team homes
  # --------------------------------------------------------------------------
  sorekillteams.homes:
    description: View/list team homes
    default: false

  sorekillteams.home:
    description: Teleport to a team home
    default: false

  sorekillteams.sethome:
    description: Set a team home (owner only)
    default: false

  sorekillteams.delhome:
    description: Delete a team home (owner only)
    default: false

  sorekillteams.home.bypasscooldown:
    description: Bypass team home teleport cooldowns
    default: op
